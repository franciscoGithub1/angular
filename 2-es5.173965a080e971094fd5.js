(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1BQp":function(e,t,n){"use strict";var r=n("LoAr"),o=n("cNeD"),i=n("WT9V"),a=(n("C7Lb"),n("LYzL"),n("SeAg"),n("QIIz")),s=n("WV+C"),l=n("Z5FQ"),u=r["\u0275crt"]({encapsulation:2,styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],data:{}});function c(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"animation-name",null],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n._circleRadius,"mat-progress-spinner-stroke-rotate-"+n.diameter,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)})}function d(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,":svg:circle",[["cx","50%"],["cy","50%"]],[[1,"r",0],[4,"stroke-dashoffset","px"],[4,"stroke-dasharray","px"],[4,"stroke-width","%"]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n._circleRadius,n._strokeDashOffset,n._strokeCircumference,n._circleStrokeWidth)})}function f(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,5,":svg:svg",[["focusable","false"],["preserveAspectRatio","xMidYMid meet"]],[[4,"width","px"],[4,"height","px"],[1,"viewBox",0]],null,null,null,null)),r["\u0275did"](1,16384,null,0,i.s,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,c)),r["\u0275did"](3,278528,null,0,i.t,[r.ViewContainerRef,r.TemplateRef,i.s],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),r["\u0275and"](16777216,null,null,1,null,d)),r["\u0275did"](5,278528,null,0,i.t,[r.ViewContainerRef,r.TemplateRef,i.s],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,t){e(t,1,0,"indeterminate"===t.component.mode),e(t,3,0,!0),e(t,5,0,!1)},function(e,t){var n=t.component;e(t,0,0,n.diameter,n.diameter,n._viewBox)})}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return g});var p=r["\u0275crt"]({encapsulation:2,styles:[".mat-datasource-container{position:relative}",".mat-datasource-empty,.mat-datasource-error,.mat-datasource-loading{display:block;text-align:center}",".mat-datasource-overlay{display:flex;flex-direction:column;min-height:120px;width:100%;align-items:center;place-content:center}.mat-datasource-overlay>*{margin-bottom:15px}.mat-datasource-overlay>:last-child{margin-bottom:0}.mat-datasource-overlay:empty{margin-bottom:0;min-height:0}"],data:{}});function g(e){return r["\u0275vid"](2,[(e()(),r["\u0275eld"](0,0,null,null,7,"div",[["class","mat-datasource-container"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,1,"div",[],[[1,"hidden",0]],null,null,null,null)),r["\u0275ncd"](null,0),(e()(),r["\u0275eld"](3,0,null,null,4,"mat-datasource-overlay",[["class","mat-datasource-overlay"]],[[4,"display",null]],null,null,w,m)),r["\u0275did"](4,1228800,null,0,o.h,[r.ChangeDetectorRef],{dataSource:[0,"dataSource"],diameter:[1,"diameter"],strokeWidth:[2,"strokeWidth"]},null),r["\u0275ncd"](2,1),r["\u0275ncd"](1,2),r["\u0275ncd"](0,3),(e()(),r["\u0275eld"](8,0,null,null,1,"div",[],[[1,"hidden",0]],null,null,null,null)),r["\u0275ncd"](null,4)],function(e,t){var n=t.component;e(t,4,0,n.dataSource,n.diameter,n.strokeWidth)},function(e,t){var n=t.component;e(t,1,0,n.dataSource.isLoading||n.dataSource.isEmpty?"":null),e(t,3,0,r["\u0275nov"](t,4)._display),e(t,8,0,n.dataSource.isLoading||n.dataSource.isEmpty?"":null)})}var m=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function _(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"mat-datasource-loading",[["class","mat-datasource-loading"]],null,null,null,null,null)),r["\u0275did"](1,16384,null,0,o.c,[],null,null),(e()(),r["\u0275ted"](2,null,["",""]))],null,function(e,t){e(t,2,0,t.component.dataSource.outputMsg)})}function b(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,1,null,_)),r["\u0275did"](2,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],function(e,t){e(t,2,0,t.component.dataSource.outputMsg)},null)}function y(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"mat-progress-spinner",[["class","mat-progress-spinner"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,f,u)),r["\u0275did"](1,49152,null,0,a.b,[r.ElementRef,s.a,[2,i.d],[2,l.a],a.a],{diameter:[0,"diameter"],strokeWidth:[1,"strokeWidth"],mode:[2,"mode"],value:[3,"value"]},null),(e()(),r["\u0275eld"](2,0,[["out",1]],null,1,"div",[],null,null,null,null,null)),r["\u0275ncd"](null,0),(e()(),r["\u0275and"](16777216,null,null,1,null,b)),r["\u0275did"](5,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,n.diameter,n.strokeWidth,n.dataSource.progressMode,n.dataSource.progress),e(t,5,0,!r["\u0275nov"](t,2).childNodes.length)},function(e,t){e(t,0,0,r["\u0275nov"](t,1)._noopAnimations,r["\u0275nov"](t,1).diameter,r["\u0275nov"](t,1).diameter,"determinate"===r["\u0275nov"](t,1).mode?0:null,"determinate"===r["\u0275nov"](t,1).mode?100:null,"determinate"===r["\u0275nov"](t,1).mode?r["\u0275nov"](t,1).value:null,r["\u0275nov"](t,1).mode)})}function v(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function k(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,2,"mat-datasource-error",[["class","mat-datasource-error"]],null,null,null,null,null)),r["\u0275did"](1,16384,null,0,o.b,[],null,null),(e()(),r["\u0275ted"](2,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.value)})}function O(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),r["\u0275and"](16777216,null,null,2,null,k)),r["\u0275did"](2,278528,null,0,i.n,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),r["\u0275pid"](0,i.i,[r.KeyValueDiffers]),(e()(),r["\u0275and"](0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,r["\u0275unv"](t,2,0,r["\u0275nov"](t,3).transform(n.dataSource.getErrors)))},null)}function E(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,[["err",1]],null,1,"div",[["class","mat-datasource-overlay"]],null,null,null,null,null)),r["\u0275ncd"](null,1),(e()(),r["\u0275and"](16777216,null,null,1,null,O)),r["\u0275did"](3,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],function(e,t){e(t,3,0,!r["\u0275nov"](t,0).childNodes.length)},null)}function j(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,2,"mat-datasource-empty",[["class","mat-datasource-empty"]],null,null,null,null,null)),r["\u0275did"](2,16384,null,0,o.a,[],null,null),(e()(),r["\u0275ted"](3,null,["",""]))],null,function(e,t){e(t,3,0,t.component.dataSource.outputMsg)})}function S(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,[["emp",1]],null,1,"div",[["class","mat-datasource-overlay"]],null,null,null,null,null)),r["\u0275ncd"](null,2),(e()(),r["\u0275and"](16777216,null,null,1,null,j)),r["\u0275did"](3,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),r["\u0275and"](0,null,null,0))],function(e,t){e(t,3,0,!r["\u0275nov"](t,0).childNodes.length)},null)}function x(e){return r["\u0275vid"](0,[(e()(),r["\u0275and"](16777216,null,null,1,null,v)),r["\u0275did"](1,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),r["\u0275and"](0,[["errors",2]],null,0,null,E)),(e()(),r["\u0275and"](0,[["empty",2]],null,0,null,S))],function(e,t){e(t,1,0,t.component.dataSource.hasErrors,r["\u0275nov"](t,2),r["\u0275nov"](t,3))},null)}function w(e){return r["\u0275vid"](2,[(e()(),r["\u0275and"](16777216,null,null,1,null,h)),r["\u0275did"](1,16384,null,0,i.o,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),r["\u0275and"](0,[["loading",2]],null,0,null,y)),(e()(),r["\u0275and"](0,[["loaded",2]],null,0,null,x))],function(e,t){e(t,1,0,t.component.dataSource.isLoading,r["\u0275nov"](t,2),r["\u0275nov"](t,3))},null)}},QIIz:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return f});var r=n("D57K"),o=n("HfXx"),i=n("LoAr"),a=n("LYzL"),s=100,l=function(){return function(e){this._elementRef=e}}(),u=Object(a.D)(l,"primary"),c=new i.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:s}}}),d=function(e){function t(t,n,r,o,i){var a=e.call(this,t)||this;return a._elementRef=t,a._document=r,a._value=0,a._fallbackAnimation=!1,a._diameter=s,a.mode="determinate",a._fallbackAnimation=n.EDGE||n.TRIDENT,a._noopAnimations="NoopAnimations"===o&&!!i&&!i._forceAnimations,i&&(i.diameter&&(a.diameter=i.diameter),i.strokeWidth&&(a.strokeWidth=i.strokeWidth)),t.nativeElement.classList.add("mat-progress-spinner-indeterminate"+(a._fallbackAnimation?"-fallback":"")+"-animation"),a}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"diameter",{get:function(){return this._diameter},set:function(e){this._diameter=Object(o.f)(e),this._fallbackAnimation||t._diameters.has(this._diameter)||this._attachStyleNode()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth||this.diameter/10},set:function(e){this._strokeWidth=Object(o.f)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return"determinate"===this.mode?this._value:0},set:function(e){this._value=Math.max(0,Math.min(100,Object(o.f)(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_circleRadius",{get:function(){return(this.diameter-10)/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_viewBox",{get:function(){var e=2*this._circleRadius+this.strokeWidth;return"0 0 "+e+" "+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_strokeCircumference",{get:function(){return 2*Math.PI*this._circleRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_strokeDashOffset",{get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_circleStrokeWidth",{get:function(){return this.strokeWidth/this.diameter*100},enumerable:!0,configurable:!0}),t.prototype._attachStyleNode=function(){var e=t._styleTag;e||(e=this._document.createElement("style"),this._document.head.appendChild(e),t._styleTag=e),e&&e.sheet&&e.sheet.insertRule(this._getAnimationText(),0),t._diameters.add(this.diameter)},t.prototype._getAnimationText=function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)},t._diameters=new Set([s]),t._styleTag=null,t}(u),f=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o,i)||this;return a.mode="indeterminate",a}return Object(r.c)(t,e),t}(d),p=function(){return function(){}}()},cNeD:function(e,t,n){"use strict";var r=n("PVb+"),o=n("nsO7"),i=n("3riI"),a=n("pN2L"),s=n("gQst"),l=n("LiEJ"),u=n("fQLH"),c=n("0cIN"),d=n("D57K"),f=n("U3QC"),p=n("mhnT"),g=n("G2Mx"),m=n("z5yO"),h=n("IMYO"),_=n("DwTn"),b=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new y(e,this.predicate))},e}(),y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return d.c(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(_.a),v=n("AouM"),k=n("Jg5f"),O=n("lqvn");function E(){return"Please wait..."}function j(){return"The data is still loading..."}function S(){return"Loading has timed out, please try again."}function x(e){return e+" setted:"}function w(e,t){return t?"Adding required '"+e+"' stream":"Adding optional '"+e+"' stream"}function A(e){return"Adding empty stream '"+e+"'"}function T(e){return'Adding "'+e+'" after the DataSource is already running.'}n.d(t,"d",function(){return W}),n.d(t,"e",function(){return $}),n.d(t,"a",function(){return M}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return V}),n.d(t,"f",function(){return U}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return q});var R={debug:!1,autoStart:!0,showErrors:!0,emptyMsg:function(){return"No data available"},waitMsg:E(),delayMsg:j(),timeoutMsg:S(),progressMode:"indeterminate"},I=function(){function e(e){this.sourceName=e,this._errors={}}return Object.defineProperty(e.prototype,"config",{set:function(e){this._config=e},enumerable:!0,configurable:!0}),e.prototype.getErrors=function(){return this._errors},e.prototype.addError=function(e,t){this._errors[e]="string"==typeof t?t:t.message},e.prototype.handleError=function(e,t){this.addError(e,this._config.errorHandler?this._config.errorHandler(t):t)},e.prototype.hasError=function(e){return this._errors.hasOwnProperty(e)},e.prototype.hasErrors=function(e){return void 0===e&&(e=!1),(this._config.showErrors||e)&&!!Object.keys(this._errors).length},e.prototype.getTimeoutError=function(e){switch(e){case 0:return this._config.waitMsg;case 1:return this._config.delayMsg;default:throw new Error(this._config.timeoutMsg)}},e.prototype.clearErrors=function(){this._errors={}},e.prototype.debug=function(e,t,n){void 0===n&&(n=!0),this._config.debug&&(n?console.log(this.sourceName+":",e):t&&console.log(this.sourceName+":",t))},e.prototype.print=function(e,t){this._config.debug&&console.log(this.sourceName+":",e,t)},e.prototype.check=function(e,t){if(e)throw new Error(this.sourceName+": "+t)},e}(),N="trigger.init",L=function(){function e(e){this.logger=e,this.streams=[],this.length={required:0,optional:0}}return Object.defineProperty(e.prototype,"required",{get:function(){return this.streams.filter(function(e){return e.required}).map(function(e){return e.stream})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optional",{get:function(){return this.streams.filter(function(e){return!e.required}).map(function(e){return e.stream})},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.logger.check(!e.stream,"Empty stream provided!"),this.streams.push(e),this.update()},e.prototype.remove=function(e){this.streams=this.streams.filter(function(t){return t.name!==e}),this.update()},e.prototype.update=function(){this.length={required:this.required.length,optional:this.optional.length-1}},e.prototype.args=function(e,t){var n=Object(d.g)([e],this.streams.sort(function(e,t){return(e.weight||0)<(t.weight||0)?-1:1}).map(function(e){return e.getter()}),[t]).filter(function(e){return!Object(o.isEmpty)(e)});return n.length>1?n.reduce(function(e,t){return Object(o.merge)({},e,t)}):n[0]||{}},e.prototype.connect=function(){var e=this;return Object(i.a)(this.streams.some(function(e){return e.required})?i.a.apply(void 0,Object(d.g)(this.required)):Object(a.a)("required.init"),s.a.apply(void 0,Object(d.g)(this.optional))).pipe(Object(f.a)(function(t){return e.logger.print("Stream emitted:",t)}))},e}(),P=function(e){function t(){var t=e.call(this)||this;return t._loading=!0,t._reloading=!0,t._loaded=!1,t._empty=!0,t._total=0,t._data=[],t._progress=0,t._config=R,t.defaults={},t.overrides={},t._logger=new I(t.constructor.name),t._trigger$=new l.a(N),t._triggered=0,t._change$=new l.a({}),t._streams=new L(t._logger),t._disconnect$=new u.a,t._logger.config=t._config,t.addOptional({stream:t._trigger$,getter:function(){return{}}}),t}return Object(d.c)(t,e),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._empty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputMsg",{get:function(){return this._outputMsg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"args",{get:function(){return this.arguments||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progressMode",{get:function(){return this._config.progressMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change$",{get:function(){return this._change$},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasErrors",{get:function(){return this._logger.hasErrors(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getErrors",{get:function(){return this._logger.getErrors()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(e){this._config=Object(d.a)({},this._config,e),this._logger.config=this._config},enumerable:!0,configurable:!0}),t.prototype.addArguments=function(e){this.defaults=Object(d.a)({},this.defaults,e)},t.prototype.addRequired=function(e){this._logger.check(this._triggered,T(e.name||e.stream)),this._logger.debug(w(e.name,!0),A(e.name),e.stream),this._streams.add(Object(d.a)({},e,{required:!0}))},t.prototype.addOptional=function(e){this._logger.check(this._triggered,T(e.name||e.stream)),this._logger.debug(w(e.name,!1),A(e.name),e.stream),this._streams.add(Object(d.a)({},e,{required:!1}))},t.prototype.remStream=function(e){this._logger.check(this._triggered,'Trying to remove "'+e+'" after the DataSource is already running.'),this._logger.print("Removing stream",e),this._streams.remove(e)},t.prototype.refresh=function(e){void 0===e&&(e={}),this.overrides=e,this._trigger$.next("trigger.refresh")},t.prototype.reload=function(){this._loaded&&(this.overrides={forceReload:!0}),this._reloading=!0,this._trigger$.next("trigger.reload")},t.prototype.reqArguments=function(e){return e},t.prototype._blockStart=function(e){var t,n=!this._config.autoStart&&e[1]===N;return 1===this._triggered&&this._logger.debug("DataSource starting automatically","DataSource not auto starting with "+(t=this._streams.length).optional+" optional and "+t.required+" required streams",!n),n&&(this._loading=!1),n},t.prototype._getArgs=function(){return this.arguments=this._streams.args(this.defaults,this.overrides),this.overrides={},this._logger.print("Resolved request",this.arguments),delete this.arguments.forceReload,Object(a.a)(this.arguments)},t.prototype._isEqual=function(){var e=this;return function(t,n){return!e._reloading&&Object(o.isEqual)(t,n)}},t.prototype._preQuery=function(){this._loading=!0,this._reloading=!1,this._outputMsg="",this._logger.clearErrors(),this._change$.next({})},t.prototype._execQuery=function(e){var t=this,n=this.rawFetch(e);return Object(s.a)(n,Object(c.a)(5e3,8e3).pipe(Object(p.a)(n),Object(g.a)(3))).pipe(Object(g.a)(3),Object(f.a)(function(e){if("number"!=typeof e)t._logger.print("Query response:",e);else{t._logger.print("Query timeout count:",e);try{t._outputMsg=t._logger.getTimeoutError(e)}catch(n){t._logger.addError("timeout",n.message),t._loading=!1}t._change$.next({})}}),Object(m.a)(function(e){return"number"!=typeof e}),Object(h.a)(function(e){return t._logger.handleError("query",e),Object(a.a)(t.rawDefault())}))},t.prototype._updateTotal=function(e){var t=this;this.hasErrors||this.rawTotal(e).pipe(Object(g.a)(1),Object(f.a)(function(e){return t._logger.print("Total returned:",e)})).subscribe(function(e){return t._total=e})},t.prototype._postQuery=function(e){var t,n,r=this.hasErrors;return this._data=r?[]:this.rawResult(e),this._logger.debug(["Response succeed with "+(n=(t=this._data).length)+" item"+(1===n?"":"s"),t],["Response failed",this.getErrors],!r),this._empty=!this._data||!this._data.length,!r&&this._empty&&(this._outputMsg=this._config.emptyMsg()),this._loaded=!r,this._loading=!1,this._change$.next({}),this._data},t.prototype._processException=function(e){return this._logger.print("Exception processing the result",e),Object(a.a)(!1)},t.prototype.connect=function(){var e,t=this;return this._streams.connect().pipe(Object(p.a)(this._disconnect$),Object(f.a)(function(){return t._triggered++}),(e=function(e){return t._blockStart(e)},function(t){return t.lift(new b(e))}),Object(v.a)(function(){return t._getArgs()}),Object(k.a)(function(e){return t.reqArguments(e)}),Object(O.a)(this._isEqual()),Object(f.a)(function(){return t._preQuery()}),Object(v.a)(function(e){return t._execQuery(e)}),Object(f.a)(function(e){return t._updateTotal(e)}),Object(k.a)(function(e){return t._postQuery(e)}),Object(h.a)(function(e){return t._processException(e)}),Object(m.a)(function(e){return"boolean"!=typeof e}))},t.prototype.disconnect=function(){this._trigger$.complete(),this._change$.complete(),this._disconnect$.next(),this._disconnect$.complete()},t}(r.b),D=function(){function e(){this.diameter=40,this.strokeWidth=5}return e.prototype.ngAfterContentInit=function(){this._validateSource()},e.prototype._validateSource=function(){if(!this.dataSource)throw Error("mat-datasource must receive a dataSource input")},e}(),M=function(){return function(){}}(),C=function(){return function(){}}(),V=function(){return function(){}}(),q=function(){function e(e){this.cdr=e,this.onDestroy=new u.a}return e.prototype.ngAfterContentInit=function(){var e=this;this._validateSource(),this.dataSource.change$.pipe(Object(p.a)(this.onDestroy)).subscribe(function(){e._display=e.dataSource.isLoading||e.dataSource.hasErrors||e.dataSource.isEmpty?"flex":"none",e.cdr.markForCheck()})},e.prototype._validateSource=function(){if(!this.dataSource)throw Error("mat-datasource must receive a dataSource input")},e.prototype.ngOnDestroy=function(){this.onDestroy.next(),this.onDestroy.complete()},e}(),W=function(){return function(){}}(),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pageIndex=0,t._pageSize=10,t}return Object(d.c)(t,e),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(e){this._logger.check(isNaN(Number(e)),"Non numeric ${name} passed"),this._logger.print(x("PageIndex"),Number(e)),this._pageIndex=Number(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){e&&(this._logger.check(isNaN(Number(e)),"Non numeric ${name} passed"),this._logger.print(x("PageSize"),Number(e)),this._pageSize=Number(e))},enumerable:!0,configurable:!0}),t.prototype.setPaginator=function(e,t){this.addOptional({name:"MatPaginator",stream:e.page,getter:t(this.pageSize)})},t.prototype.setSort=function(e,t){this.addOptional({name:"MatSort",stream:e.sortChange,getter:t})},t.prototype.attach=function(){var e=this;return this.connect().pipe(Object(k.a)(function(t){return e.resFilter(t)}))},t}(P);function U(e){return function(t){return function(){return{pageIndex:e?e.pageIndex:0,pageSize:e?e.pageSize:t}}}}}}]);